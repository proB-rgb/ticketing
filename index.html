<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Kazam Ticketing — Mock Screens</title>
  <meta name="description" content="Kazam app ticketing module mock screens: Support list, Create Ticket, and Ticket Detail with Timeline."/>
  <style>
    :root {
      --bg: #0a0a0a;
      --panel: #111113;
      --muted: #1a1a1a;
      --text: #e5e5e5;
      --subtext: #a3a3a3;
      --border: #262626;
      --primary: #7c3aed;
      --good: #10b981;
      --warning: #f59e0b;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: radial-gradient(1400px 900px at 30% -10%, #171717 0%, var(--bg) 60%);
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu;
      display: grid;
      place-items: center;
      min-height: 100vh;
    }
    .phone { width: 420px; height: 820px; border-radius: 28px; overflow: hidden;
      border: 1px solid var(--border); background: #0b0b0b; box-shadow: 0 10px 60px rgba(0,0,0,.6);
      display: flex; flex-direction: column; }
    .appbar { height: 56px; display: flex; align-items: center; justify-content: center; position: relative;
      border-bottom: 1px solid var(--border); background: rgba(15,15,15,.8); backdrop-filter: blur(8px);
      font-weight: 600; color: #d4d4d4; }
    .back { position: absolute; left: 14px; color: #cfcfcf; text-decoration: none; font-size: 14px; }
    .content { flex: 1; overflow: auto; }
    .section { padding: 16px; }
    .row { display:flex; gap: 8px; }
    .input, .select, .textarea {
      background: #141414; color: var(--text); border: 1px solid var(--border); border-radius: 10px; padding: 10px 12px; outline: none; width: 100%;
    }
    .textarea { min-height: 120px; resize: vertical; }
    .btn { background: var(--primary); color: white; border: none; padding: 12px 14px; border-radius: 12px; font-weight: 600; cursor: pointer; }
    .btn.secondary { background: #141414; color: #d4d4d4; border: 1px solid var(--border); }
    .btn:disabled { opacity: .5; cursor: not-allowed; }
    .card { background: rgba(17,17,19,.7); border: 1px solid var(--border); border-radius: 14px; padding: 14px; }
    .muted { color: var(--subtext); }
    .list { display: grid; gap: 10px; }
    .ticket { cursor: pointer; transition: background .15s ease; }
    .ticket:hover { background: rgba(30,30,30,.6); }
    .right { margin-left: auto; }
    .chip { font-size: 11px; padding: 4px 8px; border-radius: 999px; border: 1px solid var(--border); background:#171717; color:#cfcfcf; display:inline-flex; gap:6px; align-items:center; }
    .chip.violet { background: rgba(124,58,237,.15); color: #c4b5fd; border-color: rgba(124,58,237,.25); }
    .chip.green  { background: rgba(16,185,129,.15); color: #86efac; border-color: rgba(16,185,129,.25); }
    .chip.blue   { background: rgba(59,130,246,.15); color: #93c5fd; border-color: rgba(59,130,246,.25); }
    .chip.gray   { background: #171717; color: #a3a3a3; }
    .footer { padding: 12px; border-top: 1px solid var(--border); background: rgba(15,15,15,.8); }
    .hstack { display:flex; gap: 10px; }
    .timeline { position: relative; padding: 6px 0 6px 18px; }
    .tl-item { position: relative; padding: 10px 0 10px 14px; }
    .tl-item:before { content:""; position:absolute; left: -10px; top: 18px; width: 8px; height: 8px; border-radius: 50%; background:#2a2a2a; border:1px solid var(--border); }
    .timeline:after { content:""; position:absolute; left: -6px; top: 0; bottom: 0; width: 1px; background: var(--border); }
    .hint { font-size: 12px; color:#8a8a8a; }
    .title { font-size: 14px; font-weight:600; color:#e7e7e7; }
    .small { font-size: 12px; }
    .space-y > * + * { margin-top: 10px; }
    .madeby{position:fixed;bottom:10px;right:14px;font-size:11px;color:#6b7280}
  </style>
</head>
<body>
  <div class="phone">
    <div id="bar" class="appbar">Support</div>
    <div id="view" class="content"></div>
    <div id="foot" class="footer"></div>
  </div>
  <div class="madeby">Kazam Ticketing · demo</div>
<script>
  // basic state & utils
  const state = {
    route: 'LIST',     // LIST | CREATE | DETAIL
    currentId: null,
    tickets: [
      { id: '1248', type: 'SERVICE', title: 'Socket burnt at home charger', updatedAt: '10:32 AM', status: 'In Progress', lastEvent: 'Assigned to agent' },
      { id: '1239', type: 'PAYMENT', title: 'Charged twice at public station', updatedAt: 'Yesterday', status: 'Resolved', lastEvent: 'Refund initiated' },
    ]
  };
  const typeLabel = { PAYMENT:'Payment related', SERVICE:'Service related', INSTALL:'Installation required' };

  const el = (tag, attrs={}, children=[]) => {
    const n = document.createElement(tag);
    Object.entries(attrs).forEach(([k,v]) => {
      if (k === 'class') n.className = v;
      else if (k === 'html') n.innerHTML = v;
      else n.setAttribute(k, v);
    });
    children.forEach(c => n.appendChild(typeof c === 'string' ? document.createTextNode(c) : c));
    return n;
  };

  const setBar = (title, back=false) => {
    const bar = document.getElementById('bar');
    bar.innerHTML = title;
    if (back) {
      const a = el('a', { class:'back', href:'#' }, ['← Back']);
      a.onclick = (e)=>{ e.preventDefault(); nav('LIST'); };
      bar.appendChild(a);
    }
  };

  const setFooter = (node) => {
    const f = document.getElementById('foot');
    f.innerHTML = '';
    if (node) f.appendChild(node);
  };

  function nav(route) {
    state.route = route;
    if (route === 'LIST') renderList();
    if (route === 'CREATE') renderCreate();
    if (route === 'DETAIL') renderDetail(state.currentId);
  }

  function renderList() {
    setBar('Support', false);
    const view = document.getElementById('view');
    view.innerHTML = '';

    // search + filters
    const controls = el('div', { class:'section space-y' });
    const searchRow = el('div', { class:'row' }, [
      el('input', { class:'input', placeholder:'Search by ID or text', id:'q' })
    ]);
    controls.appendChild(searchRow);

    const filterRow = el('div', { class:'row' }, [
      (()=>{
        const s = el('select', { class:'select', id:'fStatus' }, []);
        ['All statuses','New','Acknowledged','Assigned','In Progress','Resolved','Closed']
          .forEach((v,i)=> s.appendChild(el('option',{ value: i===0?'ALL':v },[v])));
        return s;
      })(),
      (()=>{
        const s = el('select', { class:'select', id:'fType' }, []);
        [['ALL','All categories'],['PAYMENT','Payment related'],['SERVICE','Service related'],['INSTALL','Installation required']]
          .forEach(([val,lab])=> s.appendChild(el('option',{ value: val },[lab])));
        return s;
      })(),
    ]);
    controls.appendChild(filterRow);
    view.appendChild(controls);

    // list
    const listWrap = el('div', { class:'section' });
    const list = el('div', { class:'list' });
    listWrap.appendChild(list);
    view.appendChild(listWrap);

    const apply = () => {
      list.innerHTML = '';
      const q = document.getElementById('q').value.trim().toLowerCase();
      const fS = document.getElementById('fStatus').value;
      const fT = document.getElementById('fType').value;
      const items = state.tickets.filter(t => {
        const okS = fS==='ALL' || t.status===fS;
        const okT = fT==='ALL' || t.type===fT;
        const okQ = !q || t.id.includes(q) || t.title.toLowerCase().includes(q);
        return okS && okT && okQ;
      });
      if (!items.length) {
        list.appendChild(el('div', { class:'card' }, [
          el('div', { class:'title' }, ['No tickets yet']),
          el('div', { class:'muted small' }, ['Create your first support ticket.']),
          el('div', { style:'height:10px' }),
          (()=>{ const b = el('button', { class:'btn', }, ['Create Ticket']); b.onclick=()=>nav('CREATE'); return b; })(),
        ]));
      } else {
        items.forEach(t => {
          const card = el('div', { class:'card ticket' });
          const top = el('div', { class:'row', style:'justify-content:space-between; align-items:center;' }, [
            el('div', { class:'small muted' }, ['#', t.id]),
            statusChip(t.status),
          ]);
          const mid = el('div', { class:'row', style:'justify-content:space-between; align-items:center; margin-top:6px;' }, [
            el('div', {}, [
              el('div', { class:'title' }, [typeLabel[t.type]]),
              el('div', { class:'muted small' }, [t.title])
            ]),
            el('div', { class:'muted' }, ['›'])
          ]);
          const bot = el('div', { class:'small muted', style:'margin-top:6px' }, [`Last update • ${t.updatedAt} • ${t.lastEvent}`]);
          card.appendChild(top); card.appendChild(mid); card.appendChild(bot);
          card.onclick = () => { state.currentId = t.id; nav('DETAIL'); };
          list.appendChild(card);
        });
      }
    };
    apply();
    document.getElementById('q').oninput = apply;
    document.getElementById('fStatus').onchange = apply;
    document.getElementById('fType').onchange = apply;

    // footer
    setFooter((()=>{
      const f = el('div', { class:'hstack' }, [
        (()=>{ const b = el('button',{ class:'btn', style:'width:100%'},['＋ Create Ticket']); b.onclick=()=>nav('CREATE'); return b; })()
      ]);
      return f;
    })());
  }

  function renderCreate() {
    setBar('Create Ticket', true);
    setFooter(null);
    const view = document.getElementById('view');
    view.innerHTML = '';

    const wrap = el('div', { class:'section space-y' });

    // Category
    wrap.appendChild(el('div', { class:'space-y' }, [
      el('div', { class:'small muted' }, ['Category']),
      (()=>{
        const s = el('select', { class:'select', id:'category' });
        [['','Select a category'],['PAYMENT','Payment related'],['SERVICE','Service related'],['INSTALL','Installation required']]
          .forEach(([val, lab]) => s.appendChild(el('option',{ value: val }, [lab])));
        return s;
      })()
    ]));

    // Description
    wrap.appendChild(el('div', { class:'space-y' }, [
      el('div', { class:'small muted' }, ['Description']),
      el('textarea', { id:'desc', class:'textarea', placeholder:'Tell us what happened…' }),
      el('div', { class:'hint' }, ['Minimum 10 characters. Do not include card/bank details.'])
    ]));

    // Attachments
    wrap.appendChild(el('div', { class:'space-y' }, [
      el('div', { class:'small muted' }, ['Attachments (optional)']),
      el('div', { class:'row' }, [
        el('button', { class:'btn secondary' }, ['Camera']),
        el('button', { class:'btn secondary' }, ['Add file']),
      ]),
      el('div', { class:'hint' }, ['Photos/videos up to 5 files, ≤15MB each.'])
    ]));

    view.appendChild(wrap);

    // Footer buttons
    setFooter((()=>{
      const f = el('div', { class:'hstack' }, [
        (()=>{ const b = el('button',{ class:'btn secondary', style:'width:50%'},['Cancel']); b.onclick=()=>nav('LIST'); return b; })(),
        (()=>{ const b = el('button',{ class:'btn', id:'createBtn', disabled:true, style:'width:50%'},['Create Ticket']); b.onclick=createTicket; return b; })(),
      ]);
      return f;
    })());

    const validate = () => {
      const ok = document.getElementById('category').value !== '' && document.getElementById('desc').value.trim().length >= 10;
      document.getElementById('createBtn').disabled = !ok;
    };
    document.getElementById('category').onchange = validate;
    document.getElementById('desc').oninput = validate;
  }

  function createTicket() {
    const id = (Math.floor(1000 + Math.random()*9000)).toString();
    state.tickets.unshift({
      id,
      type: document.getElementById('category').value,
      title: '(example) New ticket',
      updatedAt: 'Just now',
      status: 'New',
      lastEvent: 'Created'
    });
    state.currentId = id;
    nav('DETAIL');
  }

  function renderDetail(id) {
    setBar('Ticket Detail', true);
    const view = document.getElementById('view');
    view.innerHTML = '';
    const t = state.tickets.find(x => x.id === id);
    if (!t) { view.appendChild(el('div', { class:'section' }, ['Ticket not found'])); return; }

    // Header
    view.appendChild(el('div', { class:'section' }, [
      (()=>{
        const c = el('div', { class:'card' });
        c.appendChild(el('div', { class:'row', style:'justify-content:space-between; align-items:center;' }, [
          el('div', { class:'small muted' }, ['#', t.id, ' · ', typeLabel[t.type]]),
          statusChip(t.status)
        ]));
        c.appendChild(el('div', { class:'muted small', style:'margin-top:6px' }, [t.title]));
        return c;
      })()
    ]));

    // Timeline
    const tl = el('div', { class:'section' }, [
      el('div', { class:'title', style:'margin-bottom:6px' }, ['Timeline']),
      el('div', { class:'card timeline' }, [
        tlItem('Created', 'You', '10:30 AM'),
        tlItem('Acknowledged', 'Support Bot · We’re on it', '10:40 AM'),
        tlItem('Assigned', 'Agent: R. Kumar', '11:05 AM'),
        tlItem('In Progress', 'Parts requested', '11:45 AM'),
      ])
    ]);
    view.appendChild(tl);

    // Composer
    if (t.status !== 'Closed') {
      const comp = el('div', { class:'footer' });
      const row = el('div', { class:'row' });
      const input = el('input', { id:'comment', class:'input', placeholder:'Add a comment…' });
      const send = el('button', { class:'btn right' }, ['Send']);
      send.onclick = () => {
        if (!input.value.trim()) return;
        // append to timeline quickly
        const list = tl.querySelector('.timeline');
        list.appendChild(tlItem('Customer Reply Added', input.value.trim(), new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})));
        input.value = '';
      };
      row.appendChild(input); row.appendChild(send);
      comp.appendChild(row);
      setFooter(comp);
    } else {
      setFooter(null);
    }
  }

  function statusChip(status) {
    const chip = el('span', { class:'chip gray' }, [status]);
    if (status === 'In Progress') chip.className = 'chip violet';
    if (status === 'Resolved') chip.className = 'chip green';
    if (status === 'Acknowledged') chip.className = 'chip blue';
    return chip;
  }
  function tlItem(title, subtitle, time) {
    const n = el('div', { class:'tl-item' });
    n.appendChild(el('div', { class:'small', style:'color:#e5e5e5' }, [title]));
    if (subtitle) n.appendChild(el('div', { class:'small muted' }, [subtitle]));
    n.appendChild(el('div', { class:'hint' }, [time]));
    return n;
  }

  // boot
  nav('LIST');
</script>
</body>
</html>
